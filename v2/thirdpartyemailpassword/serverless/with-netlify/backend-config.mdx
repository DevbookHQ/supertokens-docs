---
id: backend-config
title: 2. Backend config
hide_title: true
---

import AppInfoForm from "/src/components/appInfoForm"
import CoreInjector from "/src/components/coreInjector"

# 2. Backend config

## 1) Install supertokens package
```bash
npm i supertokens-node
```

## 2) Create a configuration file (`config/supertokensConfig.js`)
- Create a `config` folder in the root directory of your project.
- Create a `supertokensConfig.js` inside the `config` folder.
- An example of this file can be found [here](https://github.com/supertokens/supertokens-auth-react/blob/master/examples/with-netlify/config/supertokensConfig.js).


## 3) Create a backend config function

<AppInfoForm
    askForAppName={true}
    askForAPIDomain={true}
    askForWebsiteDomain={true}>

<CoreInjector>

```jsx title="/config/supertokensConfig.js"

let ThirdPartyEmailPassword = require('supertokens-node/recipe/thirdpartyemailpassword');
let Session = require('supertokens-node/recipe/session')

function getBackendConfig() {
  return {
    framework: "awsLambda",
    supertokens: {
      ^{coreInjector_connection_uri_comment}
      connectionURI: ^{coreInjector_uri}
      ^{coreInjector_api_key_commented}apiKey: ^{coreInjector_api_key},
    },
    appInfo: {
      // learn more about this on https://supertokens.io/docs/thirdpartyemailpassword/appinfo
      appName: "^{form_appName}",
      apiDomain: "^{form_apiDomain}",
      websiteDomain: "^{form_websiteDomain}",
      apiBasePath: "/.netlify/functions/auth"
    },
    recipeList: [
      ThirdPartyEmailPassword.init({
        providers: [
          // We have provided you with development keys which you can use for testsing.
          // IMPORTANT: Please replace them with your own OAuth keys for production use.
          ThirdPartyEmailPassword.Google({
            clientId: "1060725074195-kmeum4crr01uirfl2op9kd5acmi9jutn.apps.googleusercontent.com",
            clientSecret: "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"
          }),
          ThirdPartyEmailPassword.Github({
            clientId: "467101b197249757c71f",
            clientSecret: "e97051221f4b6426e8fe8d51486396703012f5bd"
          }),
          // ThirdPartyEmailPassword.Facebook({
          //  clientSecret: "FACEBOOK_CLIENT_SECRET",
          //  clientId: "FACEBOOK_CLIENT_ID"
          // })
        ],
      }),
      Session.init(),
    ],
    isInServerlessEnv: true,
  }
}

module.exports.getBackendConfig = getBackendConfig;

```

**When you want to generate your own keys**, please refer to the corresponding documentation to get your client ids and client secrets for each of the below providers:
- Google:
    - Generate your client ID and secret by following the [docs here](https://support.google.com/cloud/answer/6158849?hl=en)
    - Set the authorisation callback URL to `^{form_websiteDomain}/auth/callback/google`
- Github:
    - Generate your client ID and secret by following the [docs here](https://docs.github.com/en/developers/apps/creating-an-oauth-app)
    - Set the authorisation callback URL to `^{form_websiteDomain}/auth/callback/github`
- Facebook:
    - Generate your client ID and secret by following the [docs here](https://developers.facebook.com/docs/development/create-an-app)
    - Set the authorisation callback URL to `^{form_websiteDomain}/auth/callback/facebook`

</CoreInjector>

</AppInfoForm>