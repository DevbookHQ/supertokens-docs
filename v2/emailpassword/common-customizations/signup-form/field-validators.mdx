---
id: field-validators
title: Adding / Modifying field validators
hide_title: true
---

import FrontendSDKTabs from "/src/components/tabs/FrontendSDKTabs"
import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs"
import TabItem from '@theme/TabItem';

# Adding / Modifying field validators 

## Step 1: Front End


Now that you have added new fields to your signup form, let's see how you can add validators to make sure that your users provide the right information.

You can add a `validate` method to any `formFields`.

Building up on our [previous example](./adding-fields), let's add an age verification to our form:

<FrontendSDKTabs>
<TabItem value="reactjs">

```jsx
SuperTokens.init({
    appInfo: {...},
    recipeList: [
        EmailPassword.init({
            signInAndUpFeature: {
                signUpForm: {
                    formFields: [{
                        id: "name",
                        label: "Full name",
                        placeholder: "First name and last name"
                    }, {
                        id: "age",
                        label: "Your age",
                        placeholder: "How old are you?",
                        optional: true,

                        /* Validation method to make sure that age is above 18 */
                        // highlight-start
                        validate: async (value) => {
                            if (parseInt(value) > 18) {
                                return undefined; // means that there is no error
                            }
                            return "You must be over 18 to register";
                        }
                        // highlight-end

                    }, {
                        id: "country",
                        label: "Your country",
                        placeholder: "Where do you live?",
                        optional: true
                    }]
                }
            }
        }),
        Session.init()
    ]
});
```
</TabItem>
</FrontendSDKTabs>

Here is what happens if someone tries to register with an age of 17:

<img src="/img/emailpassword/signup-with-name-and-age-failure.png" />

:::tip Security
Front-end validation is great for user experience but you should always make sure that you are also applying these validations on the backend.
:::

## Step 2: Back End 

In your backend's SuperTokens init method, let's replicate the `validate` functions from above:

<BackendSDKTabs>
<TabItem value="nodejs">

```jsx
SuperTokens.init({
    appInfo: {...},
    supertokens: {...},
    recipeList: [
        EmailPassword.init({
            signUpFeature: {
                formFields: [{
                  id: "name"
                }, {
                    id: "age",
                    /* Validation method to make sure that age >= 18 */
                    // highlight-start
                    validate: async (value) => {
                        if (parseInt(value) >= 18) {
                            return undefined; // means that there is no error
                        }
                        return "You must be over 18 to register";
                    }
                    // highlight-end
                }, {
                  id: "country",
                  optional: true
                }]
            }
        }),
        Session.init({
        })
    ]
});
```
</TabItem>
<TabItem value="go">

```go
import (
	"strconv"

	"github.com/supertokens/supertokens-golang/recipe/emailpassword"
	"github.com/supertokens/supertokens-golang/recipe/emailpassword/epmodels"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
	countryOptional := true
	supertokens.Init(supertokens.TypeInput{
		RecipeList: []supertokens.Recipe{
			emailpassword.Init(&epmodels.TypeInput{
				SignUpFeature: &epmodels.TypeInputSignUp{
					FormFields: []epmodels.TypeInputFormField{
						{
							ID: "name",
						},
						{
							ID: "age",
							//highlight-start
							Validate: func(value interface{}) *string {
								age, _ := strconv.Atoi(value.(string))
								if age >= 18 {
									// return nil to indicate success
									return nil
								}
								err := "You must be over 18 to register"
								return &err
							},
							//highlight-end
						},
						{
							ID:       "country",
							Optional: &countryOptional,
						},
					},
				},
			}),
		},
	})
}
```

</TabItem>
<TabItem value="python">

```python
# highlight-start
async def validate_age(value):
    # Validation method to make sure that age >= 18
    if int(value) >= 18:
        return None # means that there is no error
    return 'You must be over 18 to register'
# highlight-end

supertokens_python.init({
    'app_info': {...},
    'supertokens': {...},
	'framework': '...',
    'recipe_list': [
        emailpassword.init({
            'sign_up_feature': {
                'form_fields': [{
                        'id': 'name'
                    }, {
                        'id': 'age',
                        # highlight-start
                        'validate': validate_age
                        # highlight-end
                    }, {
                        'id': 'country',
                        'optional': True
                    }
                ]
            }
        })
    ]
})
```

</TabItem>
</BackendSDKTabs>


## Changing the default email and password validators 

By default, SuperTokens adds an email and a password validator to the sign-up form.

- The default email validator makes sure that the provided email is in the correct email format.
- The default password validator makes sure that the provided password:
   - has a minimum of 8 characters.
   - contains at least one lowercase character
   - contains at least one number

:::important
- The email validator that you define for Sign up is also applied automatically to Sign In.
- The password validator that you define for Sign up is also applied automatically to reset password forms.
:::

### Step 1: Front End
<FrontendSDKTabs>
<TabItem value="reactjs">

```jsx
SuperTokens.init({
    appInfo: {...},
    recipeList: [
        EmailPassword.init({
            signInAndUpFeature: {
                signUpForm: {
                    formFields: [{
                        // highlight-start
                        id: "email",
                        validate: async (value) => {
                            // Your own validation returning a string or undefined if no errors.
                        }
                    },{
                        id: "password",
                        validate: async (value) => {
                            // Your own validation returning a string or undefined if no errors.
                        }
                        // highlight-end
                    }]
                }
            }
        })
    ]
});
```

</TabItem>
</FrontendSDKTabs>

### Step 2: Back End 

<BackendSDKTabs>
<TabItem value="nodejs">

```jsx
SuperTokens.init({
    appInfo: {...},
    supertokens: {...},
    recipeList: [
        EmailPassword.init({
            signUpFeature: {
                formFields: [{
                    // highlight-start
                    id: "email",
                    validate: async (value) => {
                        // Your own validation returning a string or undefined if no errors.
                    }
                }, {
                    id: "password",
                    validate: async (value) => {
                        // Your own validation returning a string or undefined if no errors.
                    }
                    // highlight-end
                }]
            }
        }),
    ]
});
```
</TabItem>
<TabItem value="go">

```go
import (
	"github.com/supertokens/supertokens-golang/recipe/emailpassword"
	"github.com/supertokens/supertokens-golang/recipe/emailpassword/epmodels"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
	supertokens.Init(supertokens.TypeInput{
		RecipeList: []supertokens.Recipe{
			emailpassword.Init(&epmodels.TypeInput{
				SignUpFeature: &epmodels.TypeInputSignUp{
					FormFields: []epmodels.TypeInputFormField{
						//highlight-start
						{
							ID: "email",
							Validate: func(value interface{}) *string {
								// Your own validation returning a string or nil if no errors.
								return nil
							},
						},
						{
							ID: "password",
							Validate: func(value interface{}) *string {
								// Your own validation returning a string or nil if no errors.
								return nil
							},
						},
						//highlight-end
					},
				},
			}),
		},
	})
}
```

</TabItem>
<TabItem value="python">

```python
# highlight-start
async def validate_password(value):
    # TODO
# highlight-end

# highlight-start
async def validate_email(value):
    # TODO
# highlight-end

supertokens_python.init({
    'app_info': {...},
    'supertokens': {...},
	'framework': '...',
    'recipe_list': [
        emailpassword.init({
            'sign_up_feature': {
                'form_fields': [{
                        'id': 'passowrd',
                        # highlight-start
                        'validate': validate_password
                        # highlight-end
                    }, {
                        'id': 'email',
                        # highlight-start
                        'validate': validate_email
                        # highlight-end
                    }
                ]
            }
        })
    ]
})
```

</TabItem>
</BackendSDKTabs>